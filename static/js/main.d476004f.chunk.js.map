{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Section/Section.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Request/Request.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Searchbar/Searchbar.js","services/services.js","components/Section/Section.js","components/ErrorMessage/ErrorMesssage.js","components/Request/Request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","className","s","item","src","alt","image","onClick","ImageGallery","images","openModal","map","id","Container","children","container","SearchBar","state","query","handleSubmitForm","e","preventDefault","props","onSubmit","setState","toast","error","handleChangeQuery","currentTarget","value","toLowerCase","trim","Searchbar","this","Form","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","Component","API_KEY","pixabayAPI","fetchImage","page","fetch","then","response","json","Section","Gallery","ErrorMessage","message","text","Request","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","total","status","showModal","largeURL","firstFetchImages","hits","nextFetchImages","prevState","handleFormSubmit","handleIncrement","toggleModal","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d476004f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__3TOxF\",\"Image\":\"ImageGalleryItem_Image__28VSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Slh0j\",\"Modal\":\"Modal_Modal__1b3VZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1a0lw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__Tj3sV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"Section_Gallery__1z3Zq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__2Brah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__2Omeb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3bFcu\"};","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\r\n  return (\r\n    <li className={s.item}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-source={largeImageURL}\r\n        className={s.image}\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className={s.ImageGallery}>\r\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              openModal={openModal}\r\n              largeImageURL={largeImageURL}\r\n              tags={tags}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport Container from \"../Container\";\r\n\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    if (!this.state.query) {\r\n      toast.error(\"Please, enter your request!\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  handleChangeQuery = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase().trim() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <Container>\r\n          <form onSubmit={this.handleSubmitForm} className={s.Form}>\r\n            <button type=\"submit\" className={s.Button}>\r\n              <span className={s.Label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.Input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChangeQuery}\r\n              value={this.state.query}\r\n            />\r\n          </form>\r\n        </Container>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","const API_KEY = \"22960309-85052fc004ca9b43ae271af96\";\r\n\r\nconst fetchImage = (query, page = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then(response => {\r\n    return response.json();\r\n  });\r\n};\r\n\r\nconst pixabayAPI = {\r\n  fetchImage,\r\n};\r\n\r\nexport default pixabayAPI;\r\n","import React from \"react\";\r\nimport s from \"./Section.module.css\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Section = ({ children }) => {\r\n  return <section className={s.Gallery}>{children}</section>;\r\n};\r\nSection.propTypes = {\r\n  title: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Section;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ErrorMessage.module.css\";\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n  return <p className={s.text}>{message}</p>;\r\n};\r\n\r\nErrorMessage.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import s from \"./Request.module.css\";\r\n\r\nconst Request = () => {\r\n  return (\r\n    <>\r\n      <p className={s.text}>Please, enter your request</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  onToggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './App.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Searchbar from './components/Searchbar';\r\nimport pixabayAPI from './services/services';\r\nimport Section from './components/Section';\r\nimport Container from './components/Container';\r\nimport ErrorMessage from './components/ErrorMessage';\r\nimport Request from './components/Request';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    images: null,\r\n    page: 1,\r\n    error: null,\r\n    total: null,\r\n    status: 'idle',\r\n    showModal: false,\r\n    largeURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page, showModal } = this.state;\r\n\r\n    if (prevState.query !== query) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      this.firstFetchImages(query, page);\r\n    }\r\n\r\n    if (prevState.page !== page && page !== 1) {\r\n      this.nextFetchImages(query, page);\r\n    }\r\n\r\n    if (!showModal && !prevState.showModal) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  firstFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\r\n      this.setState({ images: hits, total, status: 'resolved' });\r\n\r\n      if (!total) {\r\n        this.setState({\r\n          error: 'Something went wrong! Please, change your request!',\r\n          status: 'rejected',\r\n        });\r\n      } else {\r\n        this.setState({ error: null });\r\n      }\r\n    });\r\n  };\r\n\r\n  nextFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits }) => {\r\n      this.setState(prevState => ({\r\n        images: [...prevState.images, ...hits],\r\n      }));\r\n    });\r\n  };\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({\r\n      query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleIncrement = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  toggleModal = url => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeURL: url,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { error, status, total, page, showModal, largeURL, images } =\r\n      this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <Section>\r\n          <Container>\r\n            {status === 'idle' && <Request />}\r\n            {status === 'rejected' && <ErrorMessage message={error} />}\r\n            {status === 'resolved' && (\r\n              <ImageGallery images={images} openModal={this.toggleModal} />\r\n            )}\r\n            {status === 'pending' && (\r\n              <Loader type=\"Watch\" color=\"#00BFFF\" height={80} width={80} />\r\n            )}\r\n            {total - page * 12 > 0 && <Button onClick={this.handleIncrement} />}\r\n          </Container>\r\n        </Section>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2XcUr\",\"Form\":\"Searchbar_Form__3dMTF\",\"Button\":\"Searchbar_Button__2FZat\",\"Label\":\"Searchbar_Label__1tmGq\",\"Input\":\"Searchbar_Input__1qLX-\"};"],"sourceRoot":""}