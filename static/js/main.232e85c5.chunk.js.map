{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Section/Section.module.css","components/Container/Container.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Request/Request.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","services/services.js","components/Section/Section.js","components/Container/Container.js","components/ErrorMessage/ErrorMesssage.js","components/Request/Request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","className","s","item","src","alt","image","onClick","ImageGallery","images","openModal","map","id","Searchbar","onHandleSubmit","onSearchQueryChange","value","header","form","onSubmit","type","btn","label","input","autoComplete","autoFocus","placeholder","onChange","API_KEY","pixabayAPI","fetchImage","query","page","fetch","then","response","imageId","linkSmallImage","linkLargeImage","Section","children","Gallery","Container","container","ErrorMessage","message","text","Request","Button","modalRoot","document","querySelector","Modal","onKeyDown","e","code","props","onClose","onBackdropClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","Component","App","state","error","total","status","showModal","largeURL","firstFetchImages","hits","setState","nextFetchImages","prevState","handleFormSubmit","handleIncrement","toggleModal","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.232e85c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__3TOxF\",\"Image\":\"ImageGalleryItem_Image__28VSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Slh0j\",\"Modal\":\"Modal_Modal__1b3VZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1a0lw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"Section_Gallery__1z3Zq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__Tj3sV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__2Brah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__2Omeb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3bFcu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2XcUr\",\"Form\":\"Searchbar_Form__3dMTF\",\"Button\":\"Searchbar_Button__2FZat\",\"Label\":\"Searchbar_Label__1tmGq\",\"Input\":\"Searchbar_Input__1qLX-\"};","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\r\n  return (\r\n    <li className={s.item}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-source={largeImageURL}\r\n        className={s.image}\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className={s.ImageGallery}>\r\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              openModal={openModal}\r\n              largeImageURL={largeImageURL}\r\n              tags={tags}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onHandleSubmit, onSearchQueryChange, value }) {\r\n  return (\r\n    <header className={s.header}>\r\n      <form className={s.form} onSubmit={onHandleSubmit}>\r\n        <button type=\"submit\" className={s.btn}>\r\n          <span className={s.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          value={value}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onSearchQueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onHandleSubmit: PropTypes.func.isRequired,\r\n  onSearchQueryChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","const API_KEY = \"22960309-85052fc004ca9b43ae271af96\";\r\n\r\nconst fetchImage = (query, page = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then(response => {\r\n    return response.map(\r\n      ({\r\n        id: imageId,\r\n        webformatURL: linkSmallImage,\r\n        largeImageURL: linkLargeImage\r\n\r\n      }) => ({\r\n        imageId,\r\n        linkSmallImage,\r\n        linkLargeImage\r\n      })\r\n    );\r\n  });\r\n};\r\n\r\nconst pixabayAPI = {\r\n  fetchImage,\r\n};\r\n\r\nexport default pixabayAPI;\r\n","import React from \"react\";\r\nimport s from \"./Section.module.css\";\r\n\r\nconst Section = ({ children }) => {\r\n  return <section className={s.Gallery}>{children}</section>;\r\n};\r\n\r\nexport default Section;\r\n","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ErrorMessage.module.css\";\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n  return <p className={s.text}>{message}</p>;\r\n};\r\n\r\nErrorMessage.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import s from \"./Request.module.css\";\r\n\r\nconst Request = () => {\r\n  return (\r\n    <>\r\n      <p className={s.text}>Please, enter your request</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  onToggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './App.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Searchbar from './components/Searchbar';\r\nimport pixabayAPI from './services/services';\r\nimport Section from './components/Section';\r\nimport Container from './components/Container';\r\nimport ErrorMessage from './components/ErrorMessage';\r\nimport Request from './components/Request';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    images: null,\r\n    page: 1,\r\n    error: null,\r\n    total: null,\r\n    status: 'idle',\r\n    showModal: false,\r\n    largeURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page, showModal } = this.state;\r\n\r\n    if (prevState.query !== query) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      this.firstFetchImages(query, page);\r\n    }\r\n\r\n    if (prevState.page !== page && page !== 1) {\r\n      this.nextFetchImages(query, page);\r\n    }\r\n\r\n    if (!showModal && !prevState.showModal) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  firstFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\r\n      this.setState({ images: hits, total, status: 'resolved' });\r\n\r\n      if (!total) {\r\n        this.setState({\r\n          error: 'Something went wrong! Please, change your request!',\r\n          status: 'rejected',\r\n        });\r\n      } else {\r\n        this.setState({ error: null });\r\n      }\r\n    });\r\n  };\r\n\r\n  nextFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits }) => {\r\n      this.setState(prevState => ({\r\n        images: [...prevState.images, ...hits],\r\n      }));\r\n    });\r\n  };\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({\r\n      query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleIncrement = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  toggleModal = url => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeURL: url,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { error, status, total, page, showModal, largeURL, images } =\r\n      this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <Section>\r\n          <Container>\r\n            {status === 'idle' && <Request />}\r\n            {status === 'rejected' && <ErrorMessage message={error} />}\r\n            {status === 'resolved' && (\r\n              <ImageGallery images={images} openModal={this.toggleModal} />\r\n            )}\r\n            {status === 'pending' && (\r\n              <Loader type=\"Watch\" color=\"#00BFFF\" height={80} width={80} />\r\n            )}\r\n            {total - page * 12 > 0 && <Button onClick={this.handleIncrement} />}\r\n          </Container>\r\n        </Section>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}